general:
  log_level: info
mqtt:
  broker: "localhost:1883"
database:
  dsn: "host=localhost user=postgres dbname=postgres port=5432 sslmode=disable"
  query_timeout: "5s"
kafka:
  brokers:
    - "localhost:19092"
  group: "zensor-server"
  schema_registry: "http://localhost:8081"
redis:
  addr: "localhost:6379"
  password: ""
  db: 0
mqtt_client:
  broker: nam1.cloud.thethings.network:1883
  client_id: zensor_server_local
mailersend:
  api_key: dummy-api-key
  from_email: "noreply@zensor-iot.net"
  from_name: "Zensor Server"
fcm:
  project_id: ""
  access_token: ""
metrics:
  - name: "commands_total"
    type: "counter"
    topic: "device_messages"
    event_type: "command_status_update"
    custom_attributes:
      device_name: "DeviceName"
      status: "Status"
  - name: "scheduled_tasks_total"
    type: "counter"
    topic: "scheduled_tasks"
    event_type: "task_executed"
    custom_attributes: {}
  - name: "sensor_temperature"
    type: "gauge"
    topic: "device_messages"
    event_type: "temperature_data_received"
    value_property_name: "Value"
    custom_attributes:
      device_name: "DeviceName"
      app_id: "AppID"
      index: "Index"
  - name: "sensor_humidity"
    type: "gauge"
    topic: "device_messages"
    event_type: "humidity_data_received"
    value_property_name: "Value"
    custom_attributes:
      device_name: "device_id"
      app_id: "AppID"
      index: "Index"
  - name: "sensor_water_flow"
    type: "gauge"
    topic: "device_messages"
    event_type: "water_flow_data_received"
    value_property_name: "Value"
    custom_attributes:
      device_name: "device_id"
      app_id: "AppID"
      index: "Index"
  - name: "controller_relay"
    type: "gauge"
    topic: "device_messages"
    event_type: "relay_data_received"
    value_property_name: "Value"
    custom_attributes:
      device_name: "device_id"
      app_id: "AppID"
      index: "Index"
modules:
  permaculture:
    enabled: false
  maintenance:
    enabled: true
execution_worker:
  ticker_interval: "5m"

push_notifications:
  - name: "execution_reminder"
    topic: "maintenance_executions"
    event_type: "execution_reminder"
    tenant_id_path: "tenant_id"
    user_id_path: ""
    title: "Execution Reminder"
    body: "Scheduled execution is due soon"
    deeplink: "app://execution"
    deeplink_template: "app://execution/%s"
  - name: "execution_overdue"
    topic: "maintenance_executions"
    event_type: "execution_overdue"
    tenant_id_path: "tenant_id"
    user_id_path: ""
    title: "Execution Overdue"
    body: "Scheduled execution is overdue"
    deeplink: "app://execution"
    deeplink_template: "app://execution/%s"
